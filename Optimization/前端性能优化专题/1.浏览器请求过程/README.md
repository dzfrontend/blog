# 前端性能优化专题之从浏览器请求过程看前端性能优化

先来看看，浏览器的一个请求从发送到返回都经历了什么？

<img src="../images/topic01-1.jpg">

浏览器的一个请求从发送到返回经历的大概过程如上图所示，下面对上述主要过程做一个描述：

* 用户首先在浏览器中输入一个url，浏览器中的核心代码会将url进行拆分解析，浏览器会将domain发送到dns服务器，dns服务器会根据domain查询对应的ip地址，同时将ip地址返回给浏览器；

* 浏览器在持有ip地址之后，就会知道这个请求要发送的地址，就跟随协议，将ip地址打在协议中，并且请求相关的参数都携带，发送到我们的网络中；

* 经过局域网、交换机、路由器、主干网络；

* 之后请求会到达我们的服务端，服务端是MVC架构，请求会首先进入到controller中，在controller中进行相关逻辑的分发，调用model层，model是与数据进行交互的，在数据进行交互中，去拿数据库的数据，最后将我们渲染好的数据通过view层分发到网络中；

* http请求的response就从服务端又回到了浏览器，浏览器就开始render。

从上述过程中我们可以发现有很多可以优化的地方：

* 在浏览器向dns服务器请求的过程中，可以通过dns缓存来减小dns查询时间

* 在网络请求的过程中，相同的静态资源浏览器缓存

* 减小http请求数，减小http请求大小，将多次http请求合并成一次http请求减小网络损耗等...

## 性能优化的常用手段

所以从浏览器请求过程的角度可以得出性能优化的常用手段：

### 减小dns查询时间

服务端设置dns缓存来减小dns查询时间

### 减小http请求数和请求大小

* 合并 JavaScript、CSS 等文件

* 使用CSS Sprite

### 使用 CDN

网站 80-90% 响应时间消耗在资源下载上，减少资源下载时间是性能优化的黄金发则。


参考链接：

[前端性能优化最佳实践](https://csspod.com/frontend-performance-best-practices/)


